[{"path":"https://erikaris.github.io/rplaywright/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 rplaywright authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://erikaris.github.io/rplaywright/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Erika Siregar. Author, maintainer.","code":""},{"path":"https://erikaris.github.io/rplaywright/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Siregar E (2024). rplaywright: RPlaywright: Bridging R Playwright Web Testing Automation. R package version 0.0.0.9000, https://github.com/erikaris/rplaywright, https://erikaris.github.io/rplaywright/.","code":"@Manual{,   title = {rplaywright: RPlaywright: Bridging R and Playwright for Web Testing and Automation},   author = {Erika Siregar},   year = {2024},   note = {R package version 0.0.0.9000, https://github.com/erikaris/rplaywright},   url = {https://erikaris.github.io/rplaywright/}, }"},{"path":"https://erikaris.github.io/rplaywright/index.html","id":"rplaywright","dir":"","previous_headings":"","what":"RPlaywright: Bridging R and Playwright for Web Testing and Automation","title":"RPlaywright: Bridging R and Playwright for Web Testing and Automation","text":"rplaywright R package developed part participation rOpenSci Champions Program. designed seamlessly bridge NodeJS library, Playwright, enabling simplified web testing automation R users. package aims provide R users comprehensive toolkit interacting web browsers programmatically, allowing tasks browser automation, web scraping, end--end testing directly within R environment. rplaywright offers user-friendly interface robust functionality handling complex web interactions, making invaluable tool beginners experienced developers alike.","code":""},{"path":"https://erikaris.github.io/rplaywright/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"RPlaywright: Bridging R and Playwright for Web Testing and Automation","text":"can install development version rplaywright GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"erikaris/rplaywright\")"},{"path":"https://erikaris.github.io/rplaywright/index.html","id":"usage-example","dir":"","previous_headings":"Installation","what":"Usage Example","title":"RPlaywright: Bridging R and Playwright for Web Testing and Automation","text":"","code":"devtools::load_all() roxygen2::roxygenise()  rplaywright::install_rplaywright(force = TRUE)  chrome <- rplaywright::new_chromium() firefox <- rplaywright::new_firefox() webkit <- rplaywright::new_webkit()  context <- chrome$new_context()  page1 <- context$new_page(async = T) page1$goto(\"https://google.com\")  page2 <- context$new_page(async = T) page2$goto(\"https://amazon.com\")  page3 <- context$new_page(async = F) page3$goto(\"https://tokopedia.com\")  ss1 <- page1$screenshot() ss2 <- page2$screenshot() ss3 <- page3$screenshot()  Sys.sleep(10)  chrome$close() firefox$close() webkit$close()  rplaywright::stop_server()"},{"path":"https://erikaris.github.io/rplaywright/index.html","id":"use-case-example-for-twitter-crawling","dir":"","previous_headings":"Installation","what":"Use Case Example for Twitter Crawling","title":"RPlaywright: Bridging R and Playwright for Web Testing and Automation","text":"","code":"devtools::load_all() roxygen2::roxygenise()  rplaywright::install_rplaywright(force = TRUE)  chrome <- rplaywright::new_chromium(start_server = T) context <- chrome$new_context(options = list(   screen = list(width = 1240, height = 1080),   storage_state = list(     cookies = list(       list(         name = \"auth_token\",         value = \"[your auth_token copied from cookies]\", # Use auth_token from cookies         domain = \".x.com\",         path = \"/\",         expires = -1,         http_only = T,         secure = T,         same_site = \"Strict\"       )     ),     origins = list()   ) ))  page <- context$new_page() page$goto(\"https://x.com/search-advanced\")  event <- page$wait_for_response(   \"resp => (resp.url().includes('SearchTimeline') || resp.url().includes('TweetDetail')) && resp.status() === 200\",    options = list(timeout=15000) )  field <- page$get_by_label(\"All of these words\")$fill(\"playwright\") button <- page$get_by_role(\"button\", options=list(name=\"Search\"))$click()  result <- list() count <- 1  resp <- event$await() text <- resp$get(\"text\") # json <- resp$get(\"json\")  result[[count]] <- text count <- count + 1  while (T) {   print(paste0(\"Iteration \", count))      event <- page$wait_for_response(     \"resp => (resp.url().includes('SearchTimeline') || resp.url().includes('TweetDetail')) && resp.status() === 200\",      options = list(timeout=15000)   )      page$evaluate(\"     () => window.scrollTo({       behavior: 'smooth',       top: 0,     })   \")      page$evaluate(\"      async () => await new Promise((r, j) => setTimeout(() => r(), 2000))   \")      page$evaluate(\"     () => window.scrollTo({       behavior: 'smooth',       top: document.body.scrollHeight,     })   \")      resp <- event$await()   if (is.null(resp)) next;      text <- resp$get(\"text\")   # json <- resp$get(\"json\")      result[[count]] <- text   count <- count + 1      if (count > 3) break; }  chrome$close() rplaywright::stop_server()"},{"path":[]},{"path":"https://erikaris.github.io/rplaywright/notes.html","id":"rplaywright","dir":"","previous_headings":"About the project.","what":"rplaywright","title":"NA","text":"R support moment –> inspires create one. enables seamless interaction Playwright functionalities within R environment. empowers users perform web testing automation tasks efficiently providing comprehensive set tools functions. currently development, rplaywright actively updated encompass full range Playwright’s functionalities.","code":""},{"path":"https://erikaris.github.io/rplaywright/notes.html","id":"playwright-pros","dir":"","previous_headings":"About the project.","what":"playwright pros:","title":"NA","text":"Faster execution speed, especially complex tests (compared Selenium [Puppeteer])(https://www.npmjs.com/package/puppeteer). Built-features like auto-waiting recording can handle lazy-loaded page infinity loading –> Keep scrolling reaches bottom page. Web-first assertions. Playwright assertions explicitly created dynamic web. Checks automatically retried necessary conditions met. Effortless Web Automation: Automate repetitive tasks like web scraping, testing, end--end workflows directly R. Enhanced Testing: Simplify web testing processes streamline quality assurance within R projects. Increased Efficiency: Focus analysis insights, tedious web interactions.","code":""},{"path":"https://erikaris.github.io/rplaywright/notes.html","id":"how-it-works","dir":"","previous_headings":"About the project.","what":"how it works:","title":"NA","text":"page/new –> call playwright function: context.newPage(). page/screenshot –> call playwright function: page.screenshot(path) R call APIs using httr package. Create functions wrap functionalities step . 2 user understand httr. example:","code":"instance.post(  \"/screenshot\",  /**   * @param {FastifyRequest<{ Body: PageScreenshotRequestBody }>} request   * @param {FastifyReply<{ReplyType : PageScreenshotResponse}>} reply   * */  async function (request, reply) {    const { context_id, page } = pages[request.body.page_id];    const { browser_id } = contexts[context_id];    if (page) {      const buffer = await page.screenshot({        path: request.body.path || undefined,      });      const base64_image = buffer.toString(\"base64\");       reply.send({        browser_id,        context_id,        page_id: request.body.page_id,        base64_image: `data:image/png;base64,${base64_image}`,      });    }  }); rplaywright_page_screenshot <- function(     page, path = NULL ){   path = R.utils::getAbsolutePath(path)   resp <- httr::POST(paste0('http://localhost:3000/page/screenshot'), body = list(page_id = page$page_id, path = path), encode = \"json\", httr::accept_json())   httr::content(resp) }"},{"path":"https://erikaris.github.io/rplaywright/notes.html","id":"initial-target-and-current-progress","dir":"","previous_headings":"About the project.","what":"Initial target and current progress:","title":"NA","text":"can used crawling scraping 1. Implement crucial APIs https://playwright.dev/docs/api/class-browser 2. Implement crucial APIs https://playwright.dev/docs/api/class-page. 3. Implement crucial APIs https://playwright.dev/docs/api/class-browsercontext current progress: https://github.com/erikaris/rplaywright/blob/main/R/infra.R","code":""},{"path":"https://erikaris.github.io/rplaywright/notes.html","id":"next-target","dir":"","previous_headings":"About the project.","what":"Next target:","title":"NA","text":"-package designed compatible popular R packages ggplot2, dplyr, tidyr. –> collected scraped crawled data can directly consumed ggplot2, dplyr, tidyr. - collected data json format –> convert r dataframe.","code":""},{"path":[]},{"path":"https://erikaris.github.io/rplaywright/notes.html","id":"background-story","dir":"","previous_headings":"About the project. > why rplaywright (background story).","what":"background story","title":"NA","text":"currently work project understanding Micro, Small, Medium Enterprises (MSMEs) activities Indonesia social media data. working project, worked extensively NodeJS library named Playwright. Thus, want propose development R package, named “rplaywright”.","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/install_rplaywright.html","id":null,"dir":"Reference","previous_headings":"","what":"Install rplaywright and its dependencies — install_rplaywright","title":"Install rplaywright and its dependencies — install_rplaywright","text":"Install rplaywright dependencies","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/install_rplaywright.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install rplaywright and its dependencies — install_rplaywright","text":"","code":"install_rplaywright(force = FALSE)"},{"path":"https://erikaris.github.io/rplaywright/reference/install_rplaywright.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install rplaywright and its dependencies — install_rplaywright","text":"force Install dependencies without prompt","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/install_rplaywright.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install rplaywright and its dependencies — install_rplaywright","text":"","code":"rplaywright::install_rplaywright(force=TRUE)"},{"path":"https://erikaris.github.io/rplaywright/reference/new_chromium.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch new chromium instance — new_chromium","title":"Launch new chromium instance — new_chromium","text":"Launch new chromium instance","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/new_chromium.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch new chromium instance — new_chromium","text":"","code":"new_chromium(   start_server = T,   serverOptions = list(host = \"127.0.0.1\", port = 3000) )"},{"path":"https://erikaris.github.io/rplaywright/reference/new_chromium.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch new chromium instance — new_chromium","text":"","code":"browser <- rplaywright::new_chromium()"},{"path":"https://erikaris.github.io/rplaywright/reference/new_firefox.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch new firefox instance — new_firefox","title":"Launch new firefox instance — new_firefox","text":"Launch new firefox instance","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/new_firefox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch new firefox instance — new_firefox","text":"","code":"new_firefox(   start_server = T,   serverOptions = list(host = \"127.0.0.1\", port = 3000) )"},{"path":"https://erikaris.github.io/rplaywright/reference/new_firefox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch new firefox instance — new_firefox","text":"","code":"browser <- rplaywright::new_firefox()"},{"path":"https://erikaris.github.io/rplaywright/reference/new_webkit.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch new webkit instance — new_webkit","title":"Launch new webkit instance — new_webkit","text":"Launch new webkit instance","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/new_webkit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch new webkit instance — new_webkit","text":"","code":"new_webkit(   start_server = T,   serverOptions = list(host = \"127.0.0.1\", port = 3000) )"},{"path":"https://erikaris.github.io/rplaywright/reference/new_webkit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch new webkit instance — new_webkit","text":"","code":"browser <- rplaywright::new_webkit()"},{"path":"https://erikaris.github.io/rplaywright/reference/rplaywright.html","id":null,"dir":"Reference","previous_headings":"","what":"An R wrapper for playwright — rplaywright","title":"An R wrapper for playwright — rplaywright","text":"R wrapper playwright","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/rplaywright.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"An R wrapper for playwright — rplaywright","text":"http://github.com/erikaris/rselenium","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/rplaywright.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"An R wrapper for playwright — rplaywright","text":"Erika Mukhlisina Siregar","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/start_server.html","id":null,"dir":"Reference","previous_headings":"","what":"Start rplaywright server — start_server","title":"Start rplaywright server — start_server","text":"Start rplaywright server","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/start_server.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Start rplaywright server — start_server","text":"","code":"start_server(host = \"127.0.0.1\", port = 3000, restart = F)"},{"path":"https://erikaris.github.io/rplaywright/reference/start_server.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Start rplaywright server — start_server","text":"host Rplaywright server host. Default 127.0.0.1 port Rplaywright server port. Default 3000","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/start_server.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Start rplaywright server — start_server","text":"","code":"if (FALSE) { # \\dontrun{ rplaywright::start_server() } # }"},{"path":"https://erikaris.github.io/rplaywright/reference/stop_server.html","id":null,"dir":"Reference","previous_headings":"","what":"Stop rplaywright server — stop_server","title":"Stop rplaywright server — stop_server","text":"Stop rplaywright server","code":""},{"path":"https://erikaris.github.io/rplaywright/reference/stop_server.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stop rplaywright server — stop_server","text":"","code":"stop_server()"},{"path":"https://erikaris.github.io/rplaywright/reference/stop_server.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stop rplaywright server — stop_server","text":"","code":"rplaywright::stop_server()"}]
